<html>
  <head>
    <title>City Scroller :3</title>
    <script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
    <script type="text/processing" data-processing-target="mycanvas">
        //Your code goes here 
      //   var moreBuildings = false;
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        HorizontalLine slowLine = new HorizontalLine(20, 2.0); 
     // Skyline skyline = new Skyline();
   // Skyline2 skyline2 = new Skyline2();
    // Skyline3 skyline3 = new Skyline3();
    Naruto Naruto = new Naruto(100,100);
       // Skyline skylinetest = new Skyline();
       // Buildings building = new Buildings();
        HorizontalLine fastLine = new HorizontalLine(50, 2.5); 
     //   var addedBuildingWidths = 0;
       // while (addedBuildingWidths < 1000){
         // buildingList.add(new Buildings());        
           
          
                                                                              
    //    }
        //since these are variables we don't want to ever change in the code, we capitalize them 
        var WINDOW_WIDTH = 1000;
        var WINDOW_HEIGHT = 600; 
        var GREY = 204;
     //   ArrayList<Buildings> buildingList;
        
        //This function only runs once at the start of the program
        void setup() {
          size(WINDOW_WIDTH, WINDOW_HEIGHT); //sets the size of the window
        
          frameRate(30); //how many times the draw function is called per second

//while (totalWidth < 1000){
         // var bWidth, bHeight;                                                                                                       
           // bWidth = random(100,300);
            //bHeight = random(150,500);           
            //buildingList.add(new Buildings(bWidth, bHeight));
            //totalWidth = totalWidth + bW;
          //}
            
        
        }
        
        
        //called repeatedly
        void draw() { 
        
          background(28, 17, 237); //needed in the draw function to "clear" the screen between updates
        
          slowLine.moveLine(); 
        
         fastLine.moveLine();  
        //  building.drawBuilding();
          //  building.updateBuilding();
        
        Naruto.drawNaruto();



       
        } 
        
         
        //This is the definition of your object
        //a class consists of: 
        //attributes which describes the object 
        //a constructor which sets the default values for the attributes 
        //and functions which manipulate/give information about the attributes
        class HorizontalLine { 
        
      //attributes        
          var yPos, speed; //float means they can be decimals
        
          //constructor
          //allows us to easily create different 
          HorizontalLine (float y, float s) {  
        
            yPos = y; 
        
            speed = s; 
        
          } 
          
          void moveLine() {
            update();
            drawLine();
          }
          
          void update() { 
        
            yPos += speed; 
        
          //height is a pre-defined variable that is the pixel value for the bottom of the screen
            if (yPos > height) { 
              yPos = 0; 
            } 
            
        
          }
          
          void drawLine() {
            //width is a pre-defined variable that is the pixel value for the right of the screen
            line(0, yPos, width, yPos); 
          } 
        
        }

        
/* @pjs preload="NarutoRun1.png","NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png"; */
 class Naruto
        {
          //attributes
          var NarutoX, NarutoY, coins;
          PImage img;
          var running = true;

          //constructor
          Naruto(var mX, var mY){
            NarutoX = mX;
            NarutoY = mY;
           //  img = loadImage("NarutoRun1.png");
         // img = loadImage("NarutoRun1.png", "NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png");
          
            coins = 0;
          }

          void updateAndDrawNaruto(){
            update();
            drawNaruto();
          }

          void update(){
            if (keyPressed && keyCode == UP_ARROW) {
              jump();
            }
            else {
              fall();
            }
            
          }

          void drawNaruto(){ //normal running form
           // image(img, NarutoX, NarutoY,64,64);
           var runImageArray["NarutoRun1.png", "NarutoRun2.png","NarutoRun3.png","NarutoRun4.png","NarutoRun5.png","NarutoRun6.png"];
       //    while(running == true){
       //  for (var i = 0; i < 5; i++) {
          var i = 0;
                  //img = loadImage(runImageArray[i];
                //  img = loadImage("NarutoRun1.png");
                if(i == 0){
                  img = loadImage("NarutoRun1.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                else if(i == 1){
                  img = loadImage("NarutoRun2.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                else if(i == 2){
                  img = loadImage("NarutoRun3.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                else if(i == 3){
                  img = loadImage("NarutoRun4.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                else if(i == 4){
                  img = loadImage("NarutoRun5.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                else if(i == 5){
                  img = loadImage("NarutoRun6.png");
                  image(img, NarutoX, NarutoY, 64, 64);
                }
                  i = i + 1;  
          
    //    }
   //   }
    }
              void jump(){
            img = loadImage("Naruto_jump.png");
            NarutoY -= 5;
           }

          void fall(){
           if(NarutoY < height - 75){
              NarutoY += 5;
            }
           else { //at bottom of screen 
              img = loadImage("Naruto.png");
            }
          }
}
          
          
        </script> 
    </head>
    
    <body>
    <canvas id="mycanvas"></canvas>
  </body>
</html>